(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1164:function(e,t){},1166:function(e,t){},1573:function(e,t,a){},1574:function(e,t,a){"use strict";a.r(t);var n=a(32),i=a(33),r=a(35),o=a(34),c=a(36),l=a(227),s=a(0),u=a.n(s),d=a(60),p=a.n(d),m=a(1600),g=a(1596),f=a(1595),h=a(1601),b=a(61),E=a(1582),y=a(28),v=a(535),w=a.n(v),O=a(536),k=a.n(O),j=Object(y.j)({});function A(e,t){j[t]={jsx:function(){return null}},fetch(e).then(function(e){return e.text().then(function(e){var a=w()(e);j[t]=Object(b.a)({jsx:function(){return u.a.createElement(k.a,{escapeHtml:!1,source:a.body,renderers:I})}},a.attributes)})})}A("/custom-content/content-fragments/GettingStarted.md","GettingStarted"),A("/custom-content/content-fragments/Home.md","Home"),A("/custom-content/content-fragments/APIs.md","APIs");var S,I={link:function(e){var t=e.href,a=Object(l.a)(e,["href"]);return/^(?:[a-z]+:)?\/\//i.test(t)?u.a.createElement("a",Object.assign({href:t,target:"_blank",rel:"noopener noreferrer"},a)):u.a.createElement(E.a,Object.assign({to:t},a))}},C=(a(720),a(40)),x=a(1602),P=a(563),G=a(1597),U=a(1593),R=a(1584),L=Object(C.a)(function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{vertical:!0,textAlign:"center",style:{color:"whitesmoke",backgroundColor:"slategray",padding:"40px 0px",margin:"0px !important"}},u.a.createElement(P.a,{centered:!0,size:"small",src:"/custom-content/home-image.png"}),u.a.createElement(G.a,{as:"h1",style:{color:"whitesmoke"}},j.Home.header),u.a.createElement("p",null,j.Home.tagline),u.a.createElement(E.a,{to:"/getting-started"},u.a.createElement(U.a,{positive:!0},j.Home.gettingStartedButton)),u.a.createElement(E.a,{to:"/apis",style:{padding:"0.78571429em 1.5em 0.78571429em",color:"white"}},j.Home.apiListButton)),u.a.createElement(x.a,{vertical:!0,style:{padding:"40px 0px",margin:"0 !important"}},u.a.createElement(R.a,{fluid:!0,text:!0,textAlign:"justified"},u.a.createElement(j.Home.jsx,null))))}),H=Object(C.a)(function(){return u.a.createElement(R.a,{style:{padding:"40px"}},u.a.createElement(j.GettingStarted.jsx,null))}),D=a(170),T=a(1598),N=a(1585),_=a(1592),K=a(1586),M=a(1590),F=a(1599),J=a(540),z=a.n(J),B=a(67),W=a.n(B),V=a(109),q=a.n(V),Y=window.config.region,Z=window.config.region,Q=window.config.userPoolId,X=window.config.identityPoolId,$=window.config.userPoolClientId,ee=window.config.userPoolDomain;function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accessKeyId,a=e.secretAccessKey,n=e.sessionToken;S=window.apigClientFactory.newClient({accessKey:t,secretKey:a,sessionToken:n,region:Y}),window.apigw=S}function ae(){return S?Promise.resolve(S):new Promise(function(e){var t=setInterval(function(){S&&(clearInterval(t),e(S))},100)})}q.a.config.region=Z;var ne=Object(y.j)(Object(b.a)({},{api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[]},{initialize:function(){return Object.assign(this,{api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[]}),this},clear:function(){return this.initialize()},reset:function(){for(var e=this,t={api:void 0,apiKey:void 0,apiList:{loaded:!1,apiGateway:[],generic:[]},cognitoUser:void 0,usagePlans:[],subscriptions:[]},a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return n.forEach(function(a){return W.a.set(e,a,W.a.get(t,a))}),this},resetUserData:function(){this.reset("apiKey","cognitoUser","subscriptions")}}));function ie(e,t){Object(y.k)(e,function(e,a){t(e,a)})}ie(function(){return{subscriptions:ne.subscriptions,usagePlans:ne.usagePlans}},function(e){!function(e){e&&e.forEach(function(e){var t,a=(t=e.id,!!ne.subscriptions.find(function(e){return e.id===t}));e.subscribed=a,e.apis.forEach(function(e){return e.subscribed=a})})}(e.usagePlans)}),ie(function(){return[].concat(ne.apiList.apiGateway,ne.apiList.generic)},function(e){!function(e){e.forEach(function(e){if(!e.logo){var t="/custom-content/api-logos/".concat(e.id,"_").concat(e.stage,".png");fetch(t,{headers:{Accept:"image/png"},redirect:"manual"}).then(function(a){a.ok?e.logo=t:e.logo="/custom-content/api-logos/default.png"})}})}(e)});var re,oe,ce;ne.initialize();function le(){return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&re?re:re=ae().then(function(e){return e.get("/catalog",{},{},{})}).then(function(e){var t,a=e.data,n=void 0===a?[]:a;ne.usagePlans=n.apiGateway,ne.apiList={loaded:!0,apiGateway:(t=ne.usagePlans,t.reduce(function(e,t){return t.apis.forEach(function(e){e.usagePlan=W.a.cloneDeep(t),delete e.usagePlan.apis}),e.concat(t.apis)},[])),generic:n.generic}}).catch(function(){ne.usagePlans=null,ne.apiList={loaded:!0,apiGateway:[],generic:[]}})}function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return le().then(function(){var n,i=[].concat(ne.apiList.apiGateway,ne.apiList.generic);return i.length&&(n="ANY"===e||"FIRST"===e?i[0]:i.find(function(t){return t.id.toString()===e}),a&&(n=ne.apiList.apiGateway.find(function(t){return t.id.toString()===e&&t.stage===a}))),t&&(ne.api=n),n})}function ue(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ne.subscriptions.length?ne.subscriptions:oe;return!e&&t?Promise.resolve(t):oe=ae().then(function(e){return e.get("/subscriptions",{},{},{})}).then(function(e){var t=e.data;return ne.subscriptions=t})}function de(e){var t=ne.apiKey?ne.apiKey:ce;return!e&&t?Promise.resolve(t):ae().then(function(e){return e.get("/apikey",{},{},{})}).then(function(e){var t=e.data;return ne.apiKey=t.value})}function pe(e,t){var a={};return Object.keys(e.items).forEach(function(t){(function(e,t){var a=new Date(t);e&&!Array.isArray(e[0])&&(e=[e]);return e.map(function(e){var t=a.setDate(a.getDate()),n=[t].concat(Object(D.a)(e));return a.setDate(a.getDate()+1),n})})(e.items[t],e.startDate).forEach(function(e){var t=e[0],n=e[1],i=e[2];a[t]||(a[t]={used:0,remaining:0}),a[t].used+=n,a[t].remaining+=i})}),Object.keys(a).sort().map(function(e){return[parseInt(e,10),a[e].used,a[e].remaining]})}a(564);function me(e){var t=e[0],a=e.slice(1);return t.toUpperCase()+a.toLowerCase()}function ge(e,t){(function(e){var t=new Date,a=new Date(t.getFullYear(),t.getMonth(),1).toJSON().split("T")[0],n=t.toJSON().split("T")[0];return ae().then(function(t){return t.get("/subscriptions/"+e+"/usage",{start:a,end:n},{})})})(e.id).then(function(a){var n=pe(a.data),i=document.getElementById(t);JSON.stringify(W.a.get(e,"usage.data",{}))!==JSON.stringify(n)&&(e.usage={data:n});var r=n.map(function(e){return new Date(e[0]).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),o=n.map(function(e){return e[1]}),c=n.map(function(e){return e[2]}),l=Math.max.apply(Math,Object(D.a)(o).concat(Object(D.a)(c))),s={type:"line",data:{labels:r,datasets:[{label:"Requests used"+(e.quota?" (per ".concat(me(e.quota.period),")"):""),data:o,lineTension:0,backgroundColor:"#00bfff",borderColor:"#00bfff",pointBackgroundColor:"transparent",pointBorderColor:"transparent",borderWidth:2,pointRadius:10,pointHoverRadius:10},{label:"Remaining requests"+(e.quota?" (per ".concat(me(e.quota.period),")"):""),data:c,lineTension:0,backgroundColor:"transparent",borderColor:"red",pointBackgroundColor:"transparent",pointBorderColor:"transparent",borderWidth:2,pointRadius:10,pointHoverRadius:10}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:l+.02*l}}]}}};new z.a(i,s)}).catch(function(t){console.error(t),e.usage||(e.usage={}),e.usage.error=t})}var fe,he=Object(C.a)(function(){return u.a.createElement(T.a,{container:!0},u.a.createElement(T.a.Row,null,u.a.createElement(T.a.Column,{style:{paddingTop:"40px"}},u.a.createElement(G.a,{size:"medium"},"API Key"),u.a.createElement("code",{style:{background:"black",border:"1px solid gray",padding:"7px 8px",color:"lightgray",borderRadius:"5px"}},ne.apiKey))),u.a.createElement(N.a,null),u.a.createElement(T.a.Row,null,ne.usagePlans.filter(function(e){return e.subscribed&&e.apis.length}).map(function(e,t){var a="api-usage-chart-container-".concat(e.id)+t;return ge(e,a),u.a.createElement(T.a.Column,{width:16,widescreen:8,key:e.id,style:{marginBottom:"40px"}},u.a.createElement(be,{apis:e.apis}),e.throttle&&u.a.createElement(_.a,{info:!0},u.a.createElement("p",null,"Requests limited to ",e.throttle.rateLimit," per second, and ",e.throttle.burstLimit," in a burst.")),e.usage?e.error?u.a.createElement(_.a,{error:!0,content:e.error.toString()}):null:u.a.createElement(K.a,{active:!0}),u.a.createElement("canvas",{id:a}))})))}),be=function(e){var t=e.apis,a=t[0].swagger.info.title,n=u.a.createElement(M.a,null,t.reduce(function(e,t){return e.concat(u.a.createElement(M.a.Item,{key:t.id},t.swagger.info.title))},[])),i=t.length-1;return u.a.createElement(G.a,{size:"medium"},"Usage for ",i?u.a.createElement(F.a,{trigger:u.a.createElement("a",{style:{cursor:"pointer"}},a," and ",i," more..."),content:n,on:["hover","click"],position:"right center"}):a)},Ee=a(542),ye=a.n(Ee),ve=(a(1510),a(89)),we=a(221),Oe=a(91),ke=a(171),je={UserPoolId:Q,ClientId:$};function Ae(){return ne.cognitoUser}function Se(){return ne.cognitoUser&&"".concat(ke(ne.cognitoUser.signInUserSession.idToken.jwtToken)["cognito:preferred_role"]).includes("-CognitoAdminRole-")}function Ie(e,t){var a;return new Promise(function(n,i){if(window.location.hash){var r,o,c;try{window.location.hash.replace(/^#/,"").split("&").map(function(e){return e.split("=")}).forEach(function(e){"id_token"===e[0]&&(r=e[1]),"access_token"===e[0]&&(o=e[1])}),r&&(c=ke(r)["cognito:username"],(a=new Oe.b({Username:c,Pool:new Oe.c(je)})).signInUserSession={idToken:{jwtToken:r},accessToken:{jwtToken:o}},localStorage.setItem(JSON.stringify(je),JSON.stringify(a.signInUserSession)),ne.cognitoUser=a,Ce(a),n(a))}catch(s){i(s)}}else{a=new Oe.b({Username:e,Pool:new Oe.c(je)});var l=new Oe.a({Username:e,Password:t});a.authenticateUser(l,{onSuccess:function(e){ne.cognitoUser=a,n(Ce(ne.cognitoUser))},onFailure:i})}})}function Ce(e){var t=ke(e.signInUserSession.idToken.jwtToken)["cognito:preferred_role"],a={IdentityPoolId:X,Logins:Object(we.a)({},"cognito-idp.".concat(Z,".amazonaws.com/").concat(Q),e.signInUserSession.idToken.jwtToken)};return t&&(a.RoleArn=t),q.a.config.credentials=new q.a.CognitoIdentityCredentials(a),new Promise(function(e,t){q.a.config.credentials.refresh(function(e){return e?(console.error(e),t(e)):(te(q.a.config.credentials),function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Promise.all([le(e),ue(e),de(e)])}(),ae().then(function(e){return e.post("/signin",{},{},{})}))})})}function xe(){ne.cognitoUser&&(ne.cognitoUser.signOut(),ne.resetUserData(),localStorage.clear(),ee&&(window.location="".concat(ee,"/logout?client_id=").concat($,"&logout_uri=").concat(window.location.protocol,"//").concat(window.location.host)))}var Pe=a(1594);function Ge(e,t,a,n){return n?!!t&&(e===t&&a===n):!!t&&e===t}var Ue=Object(C.a)(function(){var e,t=!ne.apiList.loaded,a=!!W.a.get(ne,"apiList.apiGateway.length"),n=!!W.a.get(ne,"apiList.generic.length"),i=this.props.path.params.apiId||a&&ne.apiList.apiGateway[0].id||n&&ne.apiList.generic[0].id;return this.props.path.params.stage&&(e=this.props.path.params.stage),u.a.createElement(Pe.a,Object.assign({inverted:!0,vertical:!0,attached:!0,style:{margin:0,borderRadius:0}},this.props),t?u.a.createElement(K.a,{active:!0}):a||n?u.a.createElement(u.a.Fragment,null,a&&u.a.createElement(Le,{title:"Subscribable",listOfApis:ne.apiList.apiGateway,selectedApiId:i,selectedStage:e}),n&&u.a.createElement(Re,{title:"Not Subscribable",listOfApis:ne.apiList.generic,selectedApiId:i})):u.a.createElement("p",{style:{padding:"13px 16px",color:"whitesmoke"}},"No APIs Published"))});function Re(e){var t=e.title,a=e.listOfApis,n=e.selectedApiId;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Pe.a.Header,{style:{padding:"13px 5px 13px 16px",color:"lightsteelblue"}},t),a.map(function(e){return u.a.createElement(Pe.a.Item,{key:e.id,as:E.a,to:"/apis/".concat(e.id),active:Ge(e.id.toString(),n.toString())},e.swagger.info.title)}))}function Le(e){var t=e.title,a=e.listOfApis,n=e.selectedApiId,i=e.selectedStage,r=void 0!==i&&i;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Pe.a.Header,{style:{padding:"13px 5px 13px 16px",color:"lightsteelblue"}},t),a.map(function(e){return u.a.createElement(Pe.a.Item,{key:e.id,as:E.a,to:"/apis/".concat(e.id,"/stage/").concat(e.stage),active:Ge(e.id.toString(),n.toString(),e.stage.toString(),r)},e.swagger.info.title)}))}var He=Object(C.a)(function(e){var t=e.specSelectors,a=t.basePath(),n=t.host(),i=t.externalDocs();return u.a.createElement(R.a,{fluid:!0,textAlign:"left",className:"fixfloat",style:{padding:"40px 0px"}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{style:{flex:"0 0 auto",marginRight:"20px"}},u.a.createElement(P.a,{size:"small",src:ne.api.logo})),u.a.createElement("div",null,u.a.createElement(G.a,{as:"h1"},ne.api.swagger.info.title),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement("div",{style:{marginRight:"20px"}},ne.api.generic&&u.a.createElement("p",{style:{fontWeight:"bold"}},"Version"),u.a.createElement("p",{style:{fontWeight:"bold"}},"Endpoint")),u.a.createElement("div",null,ne.api.generic&&u.a.createElement("p",null,ne.api.swagger.info.version),u.a.createElement("p",null,"https://",n,a))),u.a.createElement("p",null,i),u.a.createElement(De,null))))}),De=Object(C.a)(function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=ne.api;return e&&Ae()?e.generic?u.a.createElement(G.a,{as:"h4",color:"darkgrey"},"This API is not configured for subscription from the portal."):e.subscribed?u.a.createElement(U.a,{onClick:function(){return t=e.usagePlan.id,ae().then(function(e){return e.delete("/subscriptions/".concat(t),{},{})}).then(function(){return ue(!0)});var t}},"Unsubscribe"):u.a.createElement(U.a,{onClick:function(){return t=e.usagePlan.id,ae().then(function(e){return e.put("/subscriptions/"+t,{},{})}).then(function(){return ue(!0)});var t}},"Subscribe"):null}}]),t}(u.a.Component)),Te=function(){return{components:{InfoContainer:He}}},Ne=Object(C.a)(function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).updateApi=function(){se(a.props.match.params.apiId||"ANY",!0,a.props.match.params.stage).then(function(e){if(e){var t={dom_id:"#swagger-ui-container",plugins:[Te],supportedSubmitMethods:[],spec:e.swagger,onComplete:function(){ne.apiKey&&a.preauthorizeApiKey("api_key",ne.apiKey)}};Ae()&&delete t.supportedSubmitMethods;var a=ye()(t)}})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){le(!0),this.updateApi()}},{key:"componentDidUpdate",value:function(){this.updateApi()}},{key:"render",value:function(){var e,t;return ne.apiList.apiGateway.length||ne.apiList.generic.length?ne.api||(e="No Such API",t="The selected API doesn't exist."):(e="No APIs Published",t="Your administrator hasn't added any APIs to your account. Please contact them to publish an API."),u.a.createElement("div",{style:{display:"flex",flex:"1 1 auto",overflow:"hidden"}},u.a.createElement(Ue,{path:this.props.match,style:{flex:"0 0 auto"}}),u.a.createElement("div",{className:"swagger-section",style:{flex:"1 1 auto",overflow:"auto"}},u.a.createElement("div",{className:"swagger-ui-wrap",id:"swagger-ui-container",style:{padding:"0 20px"}},e&&t&&u.a.createElement(u.a.Fragment,null,u.a.createElement(G.a,{as:"h2",icon:!0,textAlign:"center",style:{padding:"40px 0px"}},u.a.createElement(ve.a,{name:"warning sign",circular:!0}),u.a.createElement(G.a.Content,null,e)),u.a.createElement(R.a,{text:!0,textAlign:"justified"},u.a.createElement("p",null,t))))))}}]),t}(u.a.Component)),_e=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(f.a,null,u.a.createElement("div",{style:{display:"flex",flex:"1 1 auto",overflow:"hidden"}},u.a.createElement(Ke,{style:{flex:"0 0 auto"}}),u.a.createElement("div",{style:{flex:"1 1 auto",overflow:"auto"}},u.a.createElement(et,{exact:!0,path:"/admin",component:Be}),u.a.createElement(et,{path:"/admin/apis",component:Be}))))}}]),t}(s.Component),Ke=Object(C.a)(function(){return Se()&&u.a.createElement(Pe.a,{inverted:!0,vertical:!0,borderless:!0,attached:!0,style:{flex:"0 0 auto"}},u.a.createElement(Pe.a.Item,{as:E.a,to:"/admin/apis"},"APIs"))}),Me=a(1591),Fe=a(1589),Je=a(1588),ze=a(546),Be=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={apis:{apiGateway:null,generic:null},modalOpen:!1},a.fileInput=u.a.createRef(),a.uploadAPISpec=function(e){e.preventDefault();var t,n=a.fileInput.current.files;if(n.length>0)for(var i=0;i<n.length;i++){var r=n[i],o=new FileReader;o.onload=function(e){return function(n){t=e.name.includes("yaml")?JSON.stringify(ze.parse(n.target.result)):JSON.stringify(JSON.parse(n.target.result)),ae().then(function(e){return e.post("/admin/catalog/visibility",{},{swagger:t},{})}).then(function(e){200===e.status&&a.setState(function(e){return Object(b.a)({},e,{modalOpen:!1})}),setTimeout(function(){return a.getApiVisibility()},2e3)})}}(r),o.readAsText(r)}},a.deleteAPISpec=function(e){se(e).then(function(e){var t=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0}(JSON.stringify(e.swagger));ae().then(function(e){return e.delete("/admin/catalog/visibility/generic/".concat(t),{},{},{})}).then(function(e){console.log("data received: ".concat(JSON.stringify(e,null,2))),setTimeout(function(){return a.getApiVisibility()},2e3)})})},a.getApiVisibility=function(){ae().then(function(e){return e.get("/admin/catalog/visibility",{},{},{})}).then(function(e){200===e.status&&a.setState(function(t){return Object(b.a)({},t,{apis:e.data})})})},a.updateLocalApiGatewayApis=function(e,t){var n=e.map(function(e){return e.id===t.id&&e.stage===t.stage&&(e.visibility=!e.visibility),e});a.setState(function(e){for(var t=e.apis.generic,a=void 0===t?void 0:t,i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return Object(b.a)({},r,{apis:{apiGateway:n,generic:a}})})},a.showApiGatewayApi=function(e){ae().then(function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage)},{})}).then(function(t){200===t.status&&a.updateLocalApiGatewayApis(a.state.apis.apiGateway,e)})},a.hideApiGatewayApi=function(e){ae().then(function(t){return t.delete("/admin/catalog/visibility/".concat(e.id,"_").concat(e.stage),{},{},{})}).then(function(t){200===t.status&&a.updateLocalApiGatewayApis(a.state.apis.apiGateway,e)})},a.updateApiGatewayApi=function(e){ae().then(function(t){return t.post("/admin/catalog/visibility",{},{apiKey:"".concat(e.id,"_").concat(e.stage)},{})}).then(function(e){return console.log(e.status)})},a.isSdkGenerationConfigurable=function(e){return e.visibility},a.toggleSdkGeneration=function(e,t){console.log("toggling generation for ".concat(t.name,": ").concat(t.id,"_").concat(t.stage)),ae().then(function(e){return t.sdkGeneration?e.delete("/admin/catalog/".concat(t.id,"_").concat(t.stage,"/sdkGeneration"),{},{},{}):e.put("/admin/catalog/".concat(t.id,"_").concat(t.stage,"/sdkGeneration"),{},{},{})}).then(function(n){if(200===n.status){var i=e.map(function(e){return e.id===t.id&&e.stage===t.stage&&(e.sdkGeneration=!e.sdkGeneration),e});a.setState(function(e){for(var t=e.apis.generic,a=void 0===t?void 0:t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Object(b.a)({},r,{apis:{apiGateway:i,generic:a}})})}})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getApiVisibility()}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{display:"flex",width:"100%"}},u.a.createElement("div",{style:{padding:"2em"}},u.a.createElement(Me.a,{celled:!0,collapsing:!0},u.a.createElement(Me.a.Header,{fullWidth:!0},u.a.createElement(Me.a.Row,null,u.a.createElement(Me.a.HeaderCell,{colSpan:"6"},"API Gateway APIs"))),u.a.createElement(Me.a.Header,{fullWidth:!0},u.a.createElement(Me.a.Row,null,u.a.createElement(Me.a.HeaderCell,{collapsing:!0,sorted:"ascending"},"API Name"),u.a.createElement(Me.a.HeaderCell,null,"Stage"),u.a.createElement(Me.a.HeaderCell,null,"API Type"),u.a.createElement(Me.a.HeaderCell,null,"Displayed"),u.a.createElement(Me.a.HeaderCell,null,"Update"),u.a.createElement(Me.a.HeaderCell,null,"Allow Generating SDKs"))),u.a.createElement(Me.a.Body,null,this.state.apis.apiGateway?this.state.apis.apiGateway.map(function(t,a){return t.id!==window.config.restApiId&&u.a.createElement(Me.a.Row,{key:a},u.a.createElement(Me.a.Cell,{collapsing:!0},t.name),u.a.createElement(Me.a.Cell,null,t.stage),u.a.createElement(Me.a.Cell,null,t.subscribable?"Subscribable":"Not Subscribable"),u.a.createElement(Me.a.Cell,null,u.a.createElement(U.a,{basic:!0,color:t.visibility?"green":"red",onClick:function(){return t.visibility?e.hideApiGatewayApi(t):e.showApiGatewayApi(t)}},t.visibility?"True":"False")),u.a.createElement(Me.a.Cell,null,u.a.createElement(U.a,{basic:!0,color:"blue",disabled:!t.visibility,onClick:function(){return e.updateApiGatewayApi(t)}},"Update")),u.a.createElement(Me.a.Cell,null,u.a.createElement(U.a,{basic:!0,color:"blue",disabled:!e.isSdkGenerationConfigurable(t),onClick:function(){return e.toggleSdkGeneration(e.state.apis.apiGateway,t)}},t.sdkGeneration?"Enabled":"Disabled")))}):u.a.createElement(Me.a.Row,null,u.a.createElement(Me.a.Cell,{colSpan:"4"},"No APIs found"))))),u.a.createElement("div",{style:{padding:"2em"}},u.a.createElement(Me.a,{celled:!0,collapsing:!0},u.a.createElement(Me.a.Header,{fullWidth:!0},u.a.createElement(Me.a.Row,null,u.a.createElement(Me.a.HeaderCell,{colSpan:"4"},"Generic APIs"))),u.a.createElement(Me.a.Header,{fullWidth:!0},u.a.createElement(Me.a.Row,null,u.a.createElement(Me.a.HeaderCell,{colSpan:"2"},u.a.createElement(Fe.a,{closeOnEscape:!0,closeOnDimmerClick:!0,onClose:function(){return e.setState(function(e){return Object(b.a)({},e,{modalOpen:!1})})},trigger:u.a.createElement(U.a,{floated:"right",onClick:function(){return e.setState(function(e){return Object(b.a)({},e,{modalOpen:!0})})}},"Add API"),open:this.state.modalOpen},u.a.createElement(Fe.a.Header,null,"Select .JSON, .YAML, or .YML files"),u.a.createElement(Fe.a.Content,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(Je.a,{onSubmit:this.uploadAPISpec},u.a.createElement(Je.a.Field,null,u.a.createElement("label",{htmlFor:"files"},"Select Files:"),u.a.createElement("input",{type:"file",id:"files",name:"files",accept:".json,.yaml,.yml",multiple:!0,ref:this.fileInput})),u.a.createElement(U.a,{type:"submit"},"Upload")))))))),u.a.createElement(Me.a.Header,{fullWidth:!0},u.a.createElement(Me.a.Row,null,u.a.createElement(Me.a.HeaderCell,{collapsing:!0,sorted:"ascending"},"API Name"),u.a.createElement(Me.a.HeaderCell,null,"Delete"))),u.a.createElement(Me.a.Body,null,this.state.apis.generic?Object.keys(this.state.apis.generic).map(function(t,a){return u.a.createElement(Me.a.Row,{key:a},u.a.createElement(Me.a.Cell,{collapsing:!0},e.state.apis.generic[t].name),u.a.createElement(Me.a.Cell,null,u.a.createElement(U.a,{basic:!0,color:"red",onClick:function(){return e.deleteAPISpec(t)}},"Delete")))}):u.a.createElement(Me.a.Row,null,u.a.createElement(Me.a.Cell,{colSpan:"4"},"No APIs found"))))))}}]),t}(s.Component),We=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={isVisible:!1,message:""},a.handleDismiss=function(){a.setState({isVisible:!1})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(_.a,{hidden:!this.state.isVisible,negative:!0,floating:!0,icon:"warning sign",onDismiss:this.handleDismiss,header:"Error",content:this.state.message})}}]),t}(u.a.Component),Ve=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).redirectUri="".concat(window.location.protocol,"//").concat(window.location.host,"/login"),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.signedIn?u.a.createElement(g.a,{to:"/apis"}):u.a.createElement(Pe.a.Item,{key:"register",as:"a",href:"".concat(ee,"/signup?response_type=token&client_id=").concat($,"&redirect_uri=").concat(this.redirectUri)},"Register")}}]),t}(u.a.Component),qe=Object(C.a)(function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).getCognitoUrl=function(e){var t="".concat(window.location.protocol,"//").concat(window.location.host,"/login");return"".concat(ee,"/").concat(e,"?response_type=token&client_id=").concat($,"&redirect_uri=").concat(t)},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"insertAuthMenu",value:function(){return Ae()?u.a.createElement(Pe.a.Menu,{position:"right"},Se()&&u.a.createElement(Pe.a.Item,{as:E.a,to:"/admin"},"Admin Panel"),u.a.createElement(Pe.a.Item,{key:"dashboard",as:E.a,to:"/dashboard"},"My Dashboard"),u.a.createElement(Pe.a.Item,{key:"signout",as:"a",onClick:xe},"Sign Out")):u.a.createElement(Pe.a.Menu,{position:"right"},u.a.createElement(Pe.a.Item,{key:"register",as:"a",href:this.getCognitoUrl("login")},"Sign In"),u.a.createElement(Ve,null))}},{key:"render",value:function(){return u.a.createElement(Pe.a,{inverted:!0,borderless:!0,attached:!0,style:{flex:"0 0 auto"}},u.a.createElement(Pe.a.Item,{as:E.a,to:"/"},u.a.createElement(P.a,{size:"mini",src:"/custom-content/nav-logo.png",style:{paddingRight:"10px"}}),j.Home.title),u.a.createElement(Pe.a.Item,{as:E.a,to:"/getting-started"},j.GettingStarted.title),u.a.createElement(Pe.a.Item,{as:E.a,to:"/apis"},j.APIs.title),this.insertAuthMenu())}}]),t}(u.a.Component)),Ye=a(1587),Ze=function(e){return ae().then(function(t){return t.post("/feedback",{},{message:e},{})})},Qe={message:"",formOpen:!1,feedbackSubmitted:!1},Xe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).openModal=function(){a.setState({formOpen:!0})},a.closeModal=function(){a.setState(Qe)},a.handleSubmit=function(){var e=a.state.message;Ze(e).then(function(){a.setState({feedbackSubmitted:!0})})},a.state=Qe,a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.message,n=t.formOpen,i=t.feedbackSubmitted;return u.a.createElement(Fe.a,{closeIcon:!0,centered:!1,size:"tiny",open:n,onClose:this.closeModal,trigger:u.a.createElement("div",{style:{display:"block",position:"fixed",top:"80%",right:"-62px",transform:"rotate(90deg)"}},u.a.createElement(U.a,{style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},onClick:this.openModal},u.a.createElement("i",{className:"envelope outline icon"}),"Got an opinon?"))},u.a.createElement(Fe.a.Header,null,"Let us know!"),u.a.createElement(Fe.a.Content,null,!i&&u.a.createElement(Je.a,null,u.a.createElement(Je.a.Field,null,u.a.createElement(Ye.a,{value:a,onChange:function(t){return e.setState({message:t.target.value})}})),u.a.createElement(U.a,{type:"submit",positive:!0,onClick:this.handleSubmit},"Submit")),i&&u.a.createElement(_.a,{positive:!0},u.a.createElement("p",null,"Thanks for your feedback"))))}}]),t}(u.a.PureComponent);a(1573);a.d(t,"AdminRoute",function(){return et});var $e=window.config.feedbackEnabled,et=function(e){var t=e.component,a=Object(l.a)(e,["component"]);return u.a.createElement(m.a,Object.assign({},a,{render:function(e){return Se()?u.a.createElement(t,e):u.a.createElement(g.a,{to:"/"})}}))},tt=function(e){function t(){var e;if(Object(n.a)(this,t),e=Object(r.a)(this,Object(o.a)(t).call(this)),function(){te();var e=(fe=new Oe.c(je)).getCurrentUser();if(null!==e)e.getSession(function(t,a){if(t)return xe(),void console.error(t);ne.cognitoUser=e,Ce(e)});else{var t,a,n=!1;try{(t=JSON.parse(localStorage.getItem(JSON.stringify(je))))&&(n=1e3*(a=ke(t.idToken.jwtToken)).exp>new Date)}catch(i){console.error(i)}n?((e=new Oe.b({Username:a["cognito:username"],Pool:fe})).signInUserSession=t,ne.cognitoUser=e,Ce(e)):xe()}}(),window.location.hash&&"!"===window.location.hash[1]){var a=window.location.hash.substring(2);window.history.pushState({},"home page",a)}return e}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement(f.a,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(qe,null),u.a.createElement(We,null),u.a.createElement(h.a,null,u.a.createElement(m.a,{exact:!0,path:"/",component:L}),u.a.createElement(m.a,{path:"/getting-started",component:H}),u.a.createElement(m.a,{path:"/dashboard",component:he}),u.a.createElement(et,{path:"/admin",component:_e}),u.a.createElement(m.a,{exact:!0,path:"/apis",component:Ne}),u.a.createElement(m.a,{exact:!0,path:"/apis/:apiId",component:Ne}),u.a.createElement(m.a,{path:"/apis/:apiId/stage/:stage",component:Ne}),u.a.createElement(m.a,{path:"/login",render:function(){return Ie(),u.a.createElement(g.a,{to:"/"})}}),u.a.createElement(m.a,{path:"/logout",render:function(){return xe(),u.a.createElement(g.a,{to:"/"})}}),u.a.createElement(m.a,{component:function(){return u.a.createElement("h2",null,"Page not found")}})),$e&&u.a.createElement(Xe,null)))}}]),t}(u.a.Component);p.a.render(u.a.createElement(tt,null),document.getElementById("root"))},260:function(e,t){},573:function(e,t,a){e.exports=a(1574)}},[[573,1,2]]]);
//# sourceMappingURL=main.aeb102d2.chunk.js.map